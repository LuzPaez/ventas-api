<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Predicción de Ventas</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        label, input { display: block; margin-bottom: 10px; }
        button { padding: 8px 15px; }
        #resultado { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>Predicción de Ventas</h1>
    <form id="formulario">
        <label>Unidades Vendidas:
            <input type="number" id="units_sold" required min="0" />
        </label>
        <label>Precio por Unidad:
            <input type="number" id="price_per_unit" required min="0" step="0.01" />
        </label>
        <button type="submit">Predecir Ingresos</button>
    </form>

    <div id="resultado"></div>

    <script>
        const form = document.getElementById('formulario');
        const resultadoDiv = document.getElementById('resultado');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const units_sold = parseFloat(document.getElementById('units_sold').value);
            const price_per_unit = parseFloat(document.getElementById('price_per_unit').value);

            const response = await fetch('/predict', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ Units_Sold: units_sold, Price_per_Unit: price_per_unit })
            });

            const data = await response.json();

            if(response.ok) {
                resultadoDiv.textContent = `Predicción de ingresos: $${data.prediccion_revenue.toFixed(2)}`;
            } else {
                resultadoDiv.textContent = `Error: ${data.error}`;
            }
        });
    </script>
</body>
</html>
